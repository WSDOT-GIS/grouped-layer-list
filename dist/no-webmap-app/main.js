define(["esri/dijit/LayerList","esri/geometry/webMercatorUtils","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ArcGISTiledMapServiceLayer","dijit/layout/BorderContainer","dijit/layout/ContentPane","esri/config","esri/dijit/HomeButton","esri/geometry/Extent","esri/map"],((e,r,a,t,s,i,o,n,l,c)=>(()=>{"use strict";var u={206:function(e,r){var a,t=this&&this.__extends||(a=function(e,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)r.hasOwnProperty(a)&&(e[a]=r[a])},a(e,r)},function(e,r){function t(){this.constructor=e}a(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}),s=this&&this.__awaiter||function(e,r,a,t){return new(a||(a=Promise))((function(s,i){function o(e){try{l(t.next(e))}catch(e){i(e)}}function n(e){try{l(t.throw(e))}catch(e){i(e)}}function l(e){e.done?s(e.value):new a((function(r){r(e.value)})).then(o,n)}l((t=t.apply(e,r||[])).next())}))},i=this&&this.__generator||function(e,r){var a,t,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function n(i){return function(n){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,t&&(s=2&i[0]?t.return:i[0]?t.throw||((s=t.return)&&s.call(t),0):t.next)&&!(s=s.call(t,i[1])).done)return s;switch(t=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=r.call(e,o)}catch(e){i=[6,e],t=0}finally{a=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,n])}}};Object.defineProperty(r,"__esModule",{value:!0});var o="exts/LayerMetadata/validLayers?f=json",n="exts/LayerMetadata/layerSources?f=json",l="exts/LayerMetadata/metadata",c=function(e){function r(r){var a=e.call(this,r.message)||this;return a.errorInfo=r,a.code=r.code,a}return t(r,e),r}(Error);function u(e){return s(this,void 0,void 0,(function(){var r;return i(this,(function(a){switch(a.label){case 0:return[4,fetch([e,"f=json"].join("?"))];case 1:return[4,a.sent().json()];case 2:if((r=a.sent()).error)throw new c(r.error);return[2,r]}}))}))}function p(e){return s(this,void 0,void 0,(function(){var r;return i(this,(function(a){switch(a.label){case 0:return r=[e,n].join("/"),[4,fetch(r)];case 1:return[4,a.sent().json()];case 2:return[2,a.sent()]}}))}))}r.ArcGisError=c,r.getServiceInfo=u,r.detectLayerMetadataSupport=function(e){return s(this,void 0,void 0,(function(){var r;return i(this,(function(a){switch(a.label){case 0:return[4,u(e)];case 1:return(r=a.sent()).supportedExtensions?[2,/LayerMetadata/.test(r.supportedExtensions)]:[2,!1]}}))}))},r.getLayerSources=p,r.getMetadataLinks=function(e,r){return s(this,void 0,void 0,(function(){var a,t,s;return i(this,(function(i){switch(i.label){case 0:return r?[3,2]:[4,p(e)];case 1:r=i.sent(),i.label=2;case 2:for(s in a=[e,l].join("/"),t={},r)t[s]=[a,r[s][0]].join("/");return[2,t]}}))}))},r.getValidLayers=function(e){return s(this,void 0,void 0,(function(){var r,a;return i(this,(function(t){switch(t.label){case 0:return r=[e,o].join("/"),[4,fetch(r)];case 1:return[4,t.sent().json()];case 2:if((a=t.sent()).layerIds)return[2,a.layerIds];throw a.error?new c(a.error):new TypeError("response was not expected type: "+JSON.stringify(a))}}))}))}},565:(e,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.FormatError=void 0;var t=a(163),s=function(e){function r(r,a){return e.call(this,'"'.concat(r,'" does not match expected format: "').concat(a,'".'))||this}return t.__extends(r,e),r}(Error);r.FormatError=s},935:(e,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createSourceLink=r.githubToGHPagesUrl=r.ghPagesToGithubUrl=void 0;var t=a(163),s=a(565);function i(e){void 0===e&&(e=location.href);var r=/https?\:\/\/([^\.]+)\.github.io\/([^\/]+)/i,a=e.match(r);if(!a)throw new s.FormatError(e,r);var i=t.__read(a,3),o=i[1],n=i[2];return"https://www.github.com/".concat(o,"/").concat(n)}r.ghPagesToGithubUrl=i,r.githubToGHPagesUrl=function(e){void 0===e&&(e=location.href);var r=/https?\:\/\/www.github.com\/([^\/]+)\/([^\/]+)/,a=e.match(r);if(!a)throw new s.FormatError(e,r);var i=t.__read(a,3),o=i[1],n=i[2];return"https://".concat(o,".github.io/").concat(n)},r.createSourceLink=function(e){e=e||i();var r=document.createElement("a");r.href=e,r.target="_blank",r.rel="nofollow";var a=document.createElement("span");return a.textContent="Source on GitHub",r.classList.add("github-link"),a.classList.add("github-link__label"),r.appendChild(a),r}},577:(e,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createConfigSelector=void 0;var t=a(163).__importDefault(a(371));r.createConfigSelector=function(){var e=document.createDocumentFragment(),r=document.createElement("option");for(var a in r.text="Select a config",r.selected=!0,r.disabled=!0,e.appendChild(r),t.default)if(t.default.hasOwnProperty(a)){var s=t.default[a].pageTitle;(r=document.createElement("option")).value=a,r.text=r.label=s||a,e.appendChild(r)}var i=document.createElement("select");i.appendChild(e),i.name="config";var o=document.createElement("form");return o.action=location.href,o.appendChild(i),o.classList.add("config-select"),i.addEventListener("change",(function(){o.submit()})),o}},371:(e,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getConfigLayers=void 0;var t=a(163),s=t.__importDefault(a(550)),i=t.__importDefault(a(257)),o=t.__importDefault(a(143)),n=t.__importDefault(a(347)),l=t.__importDefault(a(401)),c=t.__importDefault(a(100)),u={airport:s.default,config:i.default,crmp:o.default,fishPassageBarriers:n.default,functionalClass:l.default,traffic:c.default};r.default=u,r.getConfigLayers=function(e){return u[e]}},163:(e,r,a)=>{a.r(r),a.d(r,{__assign:()=>i,__asyncDelegator:()=>b,__asyncGenerator:()=>w,__asyncValues:()=>M,__await:()=>S,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldIn:()=>I,__classPrivateFieldSet:()=>D,__createBinding:()=>d,__decorate:()=>n,__exportStar:()=>y,__extends:()=>s,__generator:()=>p,__importDefault:()=>A,__importStar:()=>T,__makeTemplateObject:()=>L,__metadata:()=>c,__param:()=>l,__read:()=>h,__rest:()=>o,__spread:()=>f,__spreadArray:()=>g,__spreadArrays:()=>m,__values:()=>v});var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])},t(e,r)};function s(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}var i=function(){return i=Object.assign||function(e){for(var r,a=1,t=arguments.length;a<t;a++)for(var s in r=arguments[a])Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e},i.apply(this,arguments)};function o(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(t=Object.getOwnPropertySymbols(e);s<t.length;s++)r.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(a[t[s]]=e[t[s]])}return a}function n(e,r,a,t){var s,i=arguments.length,o=i<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,a):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,a,t);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(o=(i<3?s(o):i>3?s(r,a,o):s(r,a))||o);return i>3&&o&&Object.defineProperty(r,a,o),o}function l(e,r){return function(a,t){r(a,t,e)}}function c(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)}function u(e,r,a,t){return new(a||(a=Promise))((function(s,i){function o(e){try{l(t.next(e))}catch(e){i(e)}}function n(e){try{l(t.throw(e))}catch(e){i(e)}}function l(e){var r;e.done?s(e.value):(r=e.value,r instanceof a?r:new a((function(e){e(r)}))).then(o,n)}l((t=t.apply(e,r||[])).next())}))}function p(e,r){var a,t,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function n(i){return function(n){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,t&&(s=2&i[0]?t.return:i[0]?t.throw||((s=t.return)&&s.call(t),0):t.next)&&!(s=s.call(t,i[1])).done)return s;switch(t=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=r.call(e,o)}catch(e){i=[6,e],t=0}finally{a=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,n])}}}var d=Object.create?function(e,r,a,t){void 0===t&&(t=a);var s=Object.getOwnPropertyDescriptor(r,a);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(e,t,s)}:function(e,r,a,t){void 0===t&&(t=a),e[t]=r[a]};function y(e,r){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(r,a)||d(r,e,a)}function v(e){var r="function"==typeof Symbol&&Symbol.iterator,a=r&&e[r],t=0;if(a)return a.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,r){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var t,s,i=a.call(e),o=[];try{for(;(void 0===r||r-- >0)&&!(t=i.next()).done;)o.push(t.value)}catch(e){s={error:e}}finally{try{t&&!t.done&&(a=i.return)&&a.call(i)}finally{if(s)throw s.error}}return o}function f(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(h(arguments[r]));return e}function m(){for(var e=0,r=0,a=arguments.length;r<a;r++)e+=arguments[r].length;var t=Array(e),s=0;for(r=0;r<a;r++)for(var i=arguments[r],o=0,n=i.length;o<n;o++,s++)t[s]=i[o];return t}function g(e,r,a){if(a||2===arguments.length)for(var t,s=0,i=r.length;s<i;s++)!t&&s in r||(t||(t=Array.prototype.slice.call(r,0,s)),t[s]=r[s]);return e.concat(t||Array.prototype.slice.call(r))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function w(e,r,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,s=a.apply(e,r||[]),i=[];return t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t;function o(e){s[e]&&(t[e]=function(r){return new Promise((function(a,t){i.push([e,r,a,t])>1||n(e,r)}))})}function n(e,r){try{(a=s[e](r)).value instanceof S?Promise.resolve(a.value.v).then(l,c):u(i[0][2],a)}catch(e){u(i[0][3],e)}var a}function l(e){n("next",e)}function c(e){n("throw",e)}function u(e,r){e(r),i.shift(),i.length&&n(i[0][0],i[0][1])}}function b(e){var r,a;return r={},t("next"),t("throw",(function(e){throw e})),t("return"),r[Symbol.iterator]=function(){return this},r;function t(t,s){r[t]=e[t]?function(r){return(a=!a)?{value:S(e[t](r)),done:"return"===t}:s?s(r):r}:s}}function M(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=e[Symbol.asyncIterator];return a?a.call(e):(e=v(e),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(r){return new Promise((function(t,s){!function(e,r,a,t){Promise.resolve(t).then((function(r){e({value:r,done:a})}),r)}(t,s,(r=e[a](r)).done,r.value)}))}}}function L(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}var _=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r};function T(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&d(r,e,a);return _(r,e),r}function A(e){return e&&e.__esModule?e:{default:e}}function C(e,r,a,t){if("a"===a&&!t)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof r?e!==r||!t:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?t:"a"===a?t.call(e):t?t.value:r.get(e)}function D(e,r,a,t,s){if("m"===t)throw new TypeError("Private method is not writable");if("a"===t&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof r?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===t?s.call(e,a):s?s.value=a:r.set(e,a),a}function I(e,r){if(null===r||"object"!=typeof r&&"function"!=typeof r)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?r===e:e.has(r)}},766:(e,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.LayerSettings=void 0;var t=a(709),s=function(){function e(e){e&&(this.visible=e.visible,this.visibleLayers=e.visibleLayers)}return e.parse=function(r){var a,s=(0,t.makeBooleanRe)(!0,!1),i=(0,t.makeBooleanRe)(!1,!1),o=!!s.test(r)||!i.test(r)&&void 0,n=r.match(/\-?\d+/g);return n&&(a=n.map((function(e){return parseInt(e,10)}))),void 0===o&&a&&(o=!0),null===o?null:new e({visible:o,visibleLayers:a})},e.prototype.apply=function(e){var r=e.layer;if(r){var a=r;a.suspend&&a.suspend(),null!=this.visible&&(e.visibility=this.visible,r.setVisibility(this.visible)),!1!==e.showSubLayers&&this.visibleLayers&&a.setVisibleLayers&&a.setVisibleLayers(this.visibleLayers),a.resume&&a.resume()}},e.prototype.toString=function(){var e=null==this.visible?"":this.visible?"âœ“":"â»";return this.visibleLayers?[e].concat(this.visibleLayers.map((function(e){return e.toString(10)}))).join(" "):e},e}();r.LayerSettings=s},858:(e,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.fromGeoportalLayers=void 0;var t=a(163),s=t.__importDefault(a(117)),i=t.__importDefault(a(889));function o(e){var r=e.layerType,a=e.url,t=e.options.id,o=t.replace(/[^a-z0-9]+/gi,"_"),n=e.options.visible||!1,l=e.options.opacity;return{id:o,layer:/Tiled/i.test(r)?new i.default(a,{id:o,visible:n,opacity:l}):new s.default(a,{id:o,visible:n,opacity:l}),showLegend:!0,showOpacitySlider:!0,title:t,visibility:n}}r.fromGeoportalLayers=function(e){var r,a;if(Array.isArray(e))return{groups:a,layers:r=e.map(o)};for(var t in r=new Array,a={},e)if(e.hasOwnProperty(t)){var s=e[t].map(o);s.forEach((function(e){return r.push(e)})),a[t]=s.map((function(e){return e.title}))}return{groups:a,layers:r}}},795:(e,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.convertLayer=r.getGroupsFromCreateMapItem=void 0;var t=a(163),s=t.__importDefault(a(655)),i=a(685);t.__exportStar(a(128),r),t.__exportStar(a(858),r),r.getGroupsFromCreateMapItem=function(e){if(e.itemData.applicationProperties){var r=e.itemData.applicationProperties;if(r.viewing){var a=r.viewing;if(a.layerGrouping){var t=a.layerGrouping;if(t&&t.enabled&&t.groups)return t.groups}}}return null},r.convertLayer=function(e){var r=e.id,a=e.title,t=e.visibility,s=e.layerObject;return{id:r,title:a,layer:s,visibility:t,showLegend:!0,showOpacitySlider:!0,showSubLayers:!s.layerInfos||s.layerInfos.length>1}};var o=function(e){function r(r,a){var s=this;if(r.groups){var o=r.layers,n=new(Array.bind.apply(Array,t.__spreadArray([void 0],t.__read(function(e,r,a,s){var i,o,n,l,c,u,p,d,y,v,h,f;return void 0===a&&(a="id"),t.__generator(this,(function(m){switch(m.label){case 0:for(o in i=[],e)i.push(o);n=0,m.label=1;case 1:if(!(n<i.length))return[3,10];if(l=i[n],!e.hasOwnProperty(l))return[3,9];c=e[l],u=function(e){var i,o;return t.__generator(this,(function(t){switch(t.label){case 0:if(!(i=r.find((function(r){return r[a]===e})))){if(o='No layer found with "'.concat(a,'" of "').concat(e,'".'),s)throw new ReferenceError(o);return console.warn(o),[2,"continue"]}return[4,i];case 1:return t.sent(),[2]}}))},m.label=2;case 2:m.trys.push([2,7,8,9]),h=void 0,p=t.__values(c),d=p.next(),m.label=3;case 3:return d.done?[3,6]:(y=d.value,[5,u(y)]);case 4:m.sent(),m.label=5;case 5:return d=p.next(),[3,3];case 6:return[3,9];case 7:return v=m.sent(),h={error:v},[3,9];case 8:try{d&&!d.done&&(f=p.return)&&f.call(p)}finally{if(h)throw h.error}return[7];case 9:return n++,[3,1];case 10:return[2]}}))}(r.groups,r.layers,r.groupProperty,r.throwOnGroupNotFound)),!1)));o.filter((function(e){return!n.includes(e)})).forEach((function(e){return n.push(e)})),r.layers=n.reverse()}var l="string"===a?a:a instanceof HTMLElement?a.id:null;return(s=e.call(this,r,a)||this)._nodeId=l||"string"==typeof a?a:a.id,r.groups&&s.on("load",(function(e){var s=function(e,r){var a="string"==typeof e?document.getElementById(e):e;a.id&&(a=document.getElementById(a.id)||a);var s,i=a.querySelectorAll(".esriList > li"),o=function(e){var r=new Map,a=function(a){e.hasOwnProperty(a)&&e[a].forEach((function(e){return r.set(e,a)}))};for(var t in e)a(t);return r}(r),n=0,l=new Map;return Array.from(i,(function(e){var r=e.querySelector("label");if(r){var a=r.textContent,t=o.get(a)||"Other";if(t!==s){var i="layer-list-group-".concat(n);l.set(i,t),e.classList.add("layer-list-group-start",i),n++}s=t}})),Array.from(l,(function(e){var r=t.__read(e,2),a=r[0],s=r[1];return".".concat(a,":before { content: '").concat(s,"' }")})).join("\n")}(a,r.groups),i=document.createElement("style");i.textContent=s,document.head.appendChild(i)})),r.metadata&&(0,i.addMetadataTabs)(s,r.metadataOptions),s}return t.__extends(r,e),Object.defineProperty(r.prototype,"root",{get:function(){return document.getElementById(this._nodeId)},enumerable:!1,configurable:!0}),r}(s.default);r.default=o},685:(e,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.addMetadataTabs=r.MetadataOptions=r.isSoeMetadataUrl=r.MetadataSourceEnum=r.defaultFormatterPage=void 0;var t,s=a(163),i=a(206);function o(e){return/\bexts\/LayerMetadata\b/gi.test(e instanceof URL?e.href:e)}function n(e,r){var a,s,i=r.formatterPageUrl,n=r.format,l=r.output,c=r.whatToFormat,u=o(e);if(e instanceof URL||(e=new URL(e)),(i?(null==c&&(c=t.None),u?(s=(c&t.Soe)===t.Soe,console.debug("Current URL is an SOE. Should wrap? ".concat(s))):s=(c&t.BuiltIn)===t.BuiltIn,console.groupEnd(),s):(console.groupEnd(),0))&&i){a=new URL(i);var p=new URL(e);u?p.searchParams.set("f","xml"):(p.searchParams.delete("output"),n&&p.searchParams.set("format",n)),a.searchParams.set("url",p.href)}else a=new URL(e),u?"html"!==l&&a.searchParams.set("f","xml"):(console.debug("is not an SOE"),l&&a.searchParams.set("output",l),n&&a.searchParams.set("format",n));return console.groupEnd(),a}r.defaultFormatterPage="https://wsdot-gis.github.io/geospatial-metadata",function(e){e[e.None=0]="None",e[e.BuiltIn=1]="BuiltIn",e[e.Soe=2]="Soe",e[e.Both=3]="Both"}(t=r.MetadataSourceEnum||(r.MetadataSourceEnum={})),r.isSoeMetadataUrl=o;var l=function(){function e(e){var a=e.format,s=e.output,i=e.formatterPageUrl,o=e.whatToFormat;this.format=a||"fgdc",this.output=s||"html",this.formatterPageUrl=i||r.defaultFormatterPage,this.whatToFormat=o||t.Soe}return e.prototype.wrapMetadataUrl=function(e){return n(e,this)},e}();function c(e){var r=e.match(/^([^\.]+)\.([^\.]+)\.([^\.]+)$/i);if(r){var a=s.__read(r,4),t=a[1],i=a[2],o=a[3],n=document.createElement("span"),l=document.createElement("span"),c=document.createElement("span");n.textContent=t,l.textContent=i,c.textContent=o,n.classList.add("metadata-source-name__db"),l.classList.add("metadata-source-name__schema"),c.classList.add("metadata-source-name__table");var u=document.createDocumentFragment();return[n,l,c].forEach((function(e){u.appendChild(e)})),u}return document.createTextNode(e)}function u(e,r){var a;return s.__awaiter(this,void 0,void 0,(function(){function t(e){l&&e.searchParams.set("format",l),c&&(l||console.warn('Metadata "output" parameter has been set to "'.concat(c,'", but no value was given for the corresponding "format" parameter.')),e.searchParams.set("output",c))}var i,o,n,l,c,u,p,d,y,v,h,f,m,g,S,w,b,M;return s.__generator(this,(function(L){switch(L.label){case 0:return(i=null===(a=e.layer)||void 0===a?void 0:a.url)?(o=/(?:(?:Map)|(?:Feature))Server(\/?)$/g,n=i.match(o),l=r.format,c=r.output,n?(n[1]||(i+="/"),t(u=new URL("".concat(i,"info/metadata"))),p=new URL("".concat(i,"layers?f=json")),[4,fetch(p)]):[2,null]):[2,null];case 1:return[4,L.sent().json()];case 2:d=L.sent(),(w={})["".concat(e.title||"Service")]=u.href,y=w,v=d.layers.filter((function(e){return e.hasMetadata})).map((function(e){var r=new URL("".concat(i).concat(e.id,"/metadata/"));return t(r),[e.name,r.href]}));try{for(h=s.__values(v),f=h.next();!f.done;f=h.next())m=s.__read(f.value,2),g=m[0],S=m[1],y[g]=S}catch(e){b={error:e}}finally{try{f&&!f.done&&(M=h.return)&&M.call(h)}finally{if(b)throw b.error}}return[2,y]}}))}))}r.MetadataOptions=l,r.addMetadataTabs=function(e,a){void 0===a&&(a={format:"fgdc",output:"html",formatterPageUrl:r.defaultFormatterPage,whatToFormat:t.Soe}),e.on("load",(function(r){var t=r.target.querySelectorAll(".esriTitleContainer > input[type=checkbox]:not([data-sublayer-index])");function o(r){if(r.dataset.layerIndex){var t,o=parseInt(r.dataset.layerIndex,10),l=e.layers[o];try{t=function(e){return e.parentElement.parentElement.nextElementSibling}(r)}catch(e){if(!(e instanceof TypeError))throw e}t&&function(e,r,a,t){var o;s.__awaiter(this,void 0,void 0,(function(){var l,p,d,y,v,h,f,m,g,S,w,b;return s.__generator(this,(function(M){switch(M.label){case 0:return(null===(o=null==r?void 0:r.layer)||void 0===o?void 0:o.url)?(t.format,[4,u(r,t)]):[2];case 1:return l=M.sent(),s.__spreadArray([],s.__read(function(e){var r,a,t,i,o;return s.__generator(this,(function(s){switch(s.label){case 0:if(!e)return[2];for(a in r=[],e)r.push(a);t=0,s.label=1;case 1:return t<r.length?(i=r[t],Object.prototype.hasOwnProperty.call(e,i)?(o=e[i],[4,[i,o]]):[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}(l)),!1).length<=1?(p=r.layer.url,[4,(0,i.detectLayerMetadataSupport)(p)]):[3,4];case 2:return M.sent()?[4,(0,i.getMetadataLinks)(p)]:[2];case 3:l=M.sent(),M.label=4;case 4:for(g in d="metadata",(y=document.createElement("li")).tabIndex=0,y.dataset.tabId=d,y.dataset.layerIndex=a.toString(10),y.setAttribute("role","tab"),y.classList.add("esriTabMenuItem"),y.textContent="Metadata",(v=document.createElement("div")).classList.add("esriTab","metadata-panel"),v.setAttribute("role","tabpanel"),v.dataset.tabId=d,h=e.firstElementChild,f=e.children[1],h.appendChild(y),f.appendChild(v),(m=document.createElement("ul")).classList.add("layer-metadata-list"),l)l.hasOwnProperty(g)&&(S=l[g],(w=document.createElement("a")).target="wsdot-metadata",w.href=n(S,t).href,w.appendChild(c(g)),(b=document.createElement("li")).appendChild(w),m.appendChild(b));return v.appendChild(m),[2]}}))}))}(t,l,o,a)}}Array.from(t,(function(e){e.checked?o(e):e.addEventListener("click",(function(e){o(this)}),{once:!0,passive:!0})}))}))}},709:(e,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.makeBooleanRe=r.makeReGroup=void 0;var t=a(163),s=["true","on","âœ“","âœ”","ðŸ—¸","ðŸ—¹","â˜‘","âœ…"],i=["false","off","â»","X"];function o(e,r){var a=e.map((function(e){return"(?:".concat(e,")")})).join("|");return r&&(a="^(?:".concat(a,")$")),new RegExp("".concat(a),"i")}r.makeReGroup=o,r.makeBooleanRe=function(e,r){return o(!0===e?s:!1===e?i:s.concat.apply(s,t.__spreadArray([],t.__read(i),!1)),r)}},128:(e,r,a)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createLayerLink=r.setOperationalLayers=void 0;var t=a(163),s=t.__importDefault(a(672)),i=a(766);r.setOperationalLayers=function(e,r){var a,s;if(e&&window.URLSearchParams)try{for(var o=t.__values(r),n=o.next();!n.done;n=o.next()){var l=n.value;if(l.id&&e.has(l.id)){var c=e.get(l.id);if(c){var u=i.LayerSettings.parse(c);u?u.apply(l):console.warn('could not parse "'.concat(c,'" into layer settings for layer ').concat(l.id,"."))}}}}catch(e){a={error:e}}finally{try{n&&!n.done&&(s=o.return)&&s.call(o)}finally{if(a)throw a.error}}},r.createLayerLink=function(e){if(!(window.URL&&window.URLSearchParams&&window.history))throw new Error("Browser must support all of the following features: URL, URLSearchParams, history.");var r=document.createElement("div");r.classList.add("layer-link");var a=document.createElement("a");a.href=new URL(location.href,location.href.replace(/\?.+$/,"")).toString(),a.textContent="ðŸ”—",a.title="Click to update URL with layer and extent paramters.",a.target="_blank",a.classList.add("layer-link__anchor");var t="layer-link--copied",o="layer-link--disabled";r.classList.add(o),r.appendChild(a);var n=e.map.on("extent-change",(function(e){var i=e.extent,n=[(i=s.default.webMercatorToGeographic(i)).xmin,i.ymin,i.xmax,i.ymax].map((function(e){return Math.round(1e4*e)/1e4})).join(" "),l=new URL(a.href);l.searchParams.set("map-extent",n),a.href=l.toString(),r.classList.remove(o),r.classList.remove(t)})),l=e.on("toggle",(function(s){console.group("LayerList toggle event"),r.classList.remove(t),r.classList.remove(o);var n=s.layerIndex,l=s.visible,c=s.subLayerIndex;console.debug("layer: ".concat(n,", sublayer ").concat(c,", visible: ").concat(l));var u=e.layers[n],p=new URL(a.href),d=p.searchParams.get(u.id),y=d?i.LayerSettings.parse(d):null,v=(!!y&&y.visibleLayers,new i.LayerSettings({visible:u.visibility,visibleLayers:u.layer.visibleLayers}));p.searchParams.set(u.id,v.toString()),a.href=p.toString()}));return a.onclick=function(e){if(window.history)return history.replaceState(void 0,document.title,a.href),r.classList.add(t),!1},e.map.root.appendChild(r),{layerToggleHandle:l,extentChangeHandle:n,root:r}}},598:e=>{e.exports=s},48:e=>{e.exports=i},957:e=>{e.exports=o},940:e=>{e.exports=n},655:r=>{r.exports=e},436:e=>{e.exports=l},672:e=>{e.exports=r},117:e=>{e.exports=a},889:e=>{e.exports=t},231:e=>{e.exports=c},401:e=>{e.exports=JSON.parse('{"pageTitle":"WSDOT Functional Classification Map","helpUrl":"https://www.wsdot.wa.gov/mapsdata/tools/geoportal_extHelp.htm","additionalStylesheets":["style/functionalClass.css"],"customLegend":{"html":"FunctionalClassLegend.html","basemapSpecificSections":{"functionalClassBasemap":"#basemapLegend"},"htmlType":"url"},"enableIdentify":true,"tabOrder":["Legend","Layers","Tools","Basemap"],"tools":["search","lrs"],"mapOptions":{"logo":false,"extent":{"xmin":-13938444.981854893,"ymin":5800958.950617068,"ymax":6257746.631649259,"xmax":-12960051.019804686,"spatialReference":{"wkid":102100}},"lods":[{"level":0,"resolution":1222.99245256249,"scale":4622324.434309},{"level":1,"resolution":611.49622628138,"scale":2311162.217155},{"level":2,"resolution":305.748113140558,"scale":1155581.108577},{"level":3,"resolution":152.874056570411,"scale":577790.554289},{"level":4,"resolution":76.4370282850732,"scale":288895.277144},{"level":5,"resolution":38.2185141425366,"scale":144447.638572},{"level":6,"resolution":19.1092570712683,"scale":72223.819286},{"level":7,"resolution":9.55462853563415,"scale":36111.909643},{"level":8,"resolution":4.77731426794937,"scale":18055.954822},{"level":9,"resolution":2.38865713397468,"scale":9027.977411},{"level":10,"resolution":1.19432856685505,"scale":4513.988705},{"level":11,"resolution":0.597164283559817,"scale":2256.994353},{"level":12,"resolution":0.298582141647617,"scale":1128.497176}],"sliderStyle":"small"},"initialBasemap":"WSDOT Basemap","locationInfoUrl":"https://www.wsdot.wa.gov/Geospatial/Geoprocessing/Intersection/coordinatearea","geometryServer":"https://data.wsdot.wa.gov/arcgis/rest/services/Geometry/GeometryServer","queryTasks":{"county":{"label":"County","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CountyBoundaries/MapServer/0","query":{"where":"1 = 1","returnGeometry":true,"outFields":["JURLBL"]}},"city":{"label":"City","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CityLimits/MapServer/2","query":{"where":"1 = 1","returnGeometry":true,"maxAllowableOffset":50,"outFields":["CityName"]}},"urbanArea":{"label":"Urban Area","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/HighwayUrbanUrbanized/MapServer/0","query":{"where":"1 = 1","returnGeometry":true,"outFields":["Name"]}}},"basemaps":[{"id":"esriHybrid","title":"Hybrid","thumbnailUrl":"images/EsriHybridThumbnail.png","layers":[{"url":"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},{"url":"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer"},{"url":"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer"}]},{"id":"wsdotBasemap","title":"WSDOT Basemap","thumbnailUrl":"images/WsdotBasemapThumbnail.jpg","layers":[{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/WebBaseMapWebMercator/MapServer"}]},{"id":"functionalClassBasemap","title":"Functional Class","thumbnailUrl":"images/FCBasemapThumbnail.png","layers":[{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/FunctionalClass/WSDOTFunctionalClassBaseMap/MapServer"}]}],"basemapsToRemove":["Imagery","Imagery with Labels","Topographic","Terrain with Labels","National Geographic","Oceans","OpenStreetMap"],"layers":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/FunctionalClass/WSDOTFunctionalClassMap/MapServer","options":{"id":"Functional Class","visible":true}}]}')},550:e=>{e.exports=JSON.parse('{"pageTitle":"Airport","helpUrl":"help/navigation.html","enableIdentify":true,"disclaimer":"disclaimers/airport/Public.html","alwaysShowDisclaimer":true,"printUrl":"https://data.wsdot.wa.gov/arcgis/rest/services/AirportMapApplication/AirportPrintService/GPServer/Export%20Web%20Map","tabContainerOptions":{"tabPosition":"left"},"tabOrder":["Layers","Airspace Calculator","Tools","Basemap","Legend"],"mapOptions":{"logo":false,"extent":{"xmin":-13938444.981854893,"ymin":5800958.950617068,"ymax":6257746.631649259,"xmax":-12960051.019804686,"spatialReference":{"wkid":102100}},"lods":[{"level":0,"resolution":1222.99245256249,"scale":4622324.434309},{"level":1,"resolution":611.49622628138,"scale":2311162.217155},{"level":2,"resolution":305.748113140558,"scale":1155581.108577},{"level":3,"resolution":152.874056570411,"scale":577790.554289},{"level":4,"resolution":76.4370282850732,"scale":288895.277144},{"level":5,"resolution":38.2185141425366,"scale":144447.638572},{"level":6,"resolution":19.1092570712683,"scale":72223.819286},{"level":7,"resolution":9.55462853563415,"scale":36111.909643},{"level":8,"resolution":4.77731426794937,"scale":18055.954822},{"level":9,"resolution":2.38865713397468,"scale":9027.977411},{"level":10,"resolution":1.19432856685505,"scale":4513.988705},{"level":11,"resolution":0.597164283559817,"scale":2256.994353},{"level":12,"resolution":0.298582141647617,"scale":1128.497176}],"sliderStyle":"small"},"initialBasemap":"Imagery with Labels","geometryServer":"https://data.wsdot.wa.gov/arcgis/rest/services/Geometry/GeometryServer","tools":["zoom","lrs","search"],"queryTasks":{"airport":{"label":"Airport","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/Airports/MapServer/0","query":{"where":"1 = 1","returnGeometry":true,"outFields":["Name"]},"levelOrFactor":5},"county":{"label":"County","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CountyBoundaries/MapServer/0","query":{"where":"1 = 1","returnGeometry":true,"outFields":["JURLBL"]}},"city":{"label":"City","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CityLimits/MapServer/2","query":{"where":"1 = 1","returnGeometry":true,"maxAllowableOffset":50,"outFields":["CityName"]}},"urbanArea":{"label":"Urban Area","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/HighwayUrbanUrbanized/MapServer/0","query":{"where":"1 = 1","returnGeometry":true}}},"basemaps":[{"id":"wsdotBasemap","title":"WSDOT Basemap","thumbnailUrl":"images/WsdotBasemapThumbnail.jpg","layers":[{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/WebBaseMapWebMercator/MapServer"}]},{"id":"aeronauticalChart","title":"Aeronautical Chart","thumbnailUrl":"images/Aeronautical Chart Thumb.jpg","layers":[{"url":"https://maps7.arcgisonline.com/arcgis/rest/services/FAA_Sectional_Charts/MapServer","visibleLayers":[4]}]}],"basemapsToRemove":["Terrain with Labels","Topographic","Oceans"],"routeLocatorUrl":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/ElcRestSOE/MapServer/exts/ElcRestSoe","tabbedLayerList":true,"layers":{"Airport":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/Airports/MapServer","options":{"id":"Airports"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/AirportMapApplication/AirportFacilities/MapServer","options":{"id":"Airport Facilities"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/AirportMapApplication/AirspaceFeatures/MapServer","options":{"id":"Airspace Features","opacity":0.5}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://maps6.arcgisonline.com/ArcGIS/rest/services/A-16/FAA_Obstacles/MapServer","options":{"id":"FAA Obstacles"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/AirportMapApplication/AirportInformationSystem/MapServer","options":{"id":"Airport Information System"}}],"General":{"Political Boundaries":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CityLimits/MapServer","options":{"id":"City Limits"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CongressionalDistricts/MapServer","options":{"id":"Congressional Districts"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CountyBoundaries/MapServer","options":{"id":"County Boundaries"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/LegislativeDistricts/MapServer","options":{"id":"Legislative Districts"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/MetroPlanningAreas/MapServer","options":{"id":"MPA"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/RegionalTransportationPlanning/MapServer","options":{"id":"RTPO"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/TownshipSection/MapServer","options":{"id":"Township / Section"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/TribalReservationLands/MapServer","options":{"id":"Tribal Lands"}}],"WSDOT Boundaries":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/RegionBoundaries/MapServer","options":{"id":"Region Boundaries"}}],"Transportation Features":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/StateRoutes/MapServer","options":{"id":"State Routes"}}]}}}')},257:e=>{e.exports=JSON.parse('{"pageTitle":"WSDOT GeoPortal","helpUrl":"https://data.wsdot.wa.gov/geospatial/userguides/GeoPortalUserGuide.pdf","enableIdentify":true,"mapOptions":{"logo":false,"extent":{"xmin":-13938444.981854893,"ymin":5800958.950617068,"ymax":6257746.631649259,"xmax":-12960051.019804686,"spatialReference":{"wkid":102100}},"lods":[{"level":0,"resolution":1222.99245256249,"scale":4622324.434309},{"level":1,"resolution":611.49622628138,"scale":2311162.217155},{"level":2,"resolution":305.748113140558,"scale":1155581.108577},{"level":3,"resolution":152.874056570411,"scale":577790.554289},{"level":4,"resolution":76.4370282850732,"scale":288895.277144},{"level":5,"resolution":38.2185141425366,"scale":144447.638572},{"level":6,"resolution":19.1092570712683,"scale":72223.819286},{"level":7,"resolution":9.55462853563415,"scale":36111.909643},{"level":8,"resolution":4.77731426794937,"scale":18055.954822},{"level":9,"resolution":2.38865713397468,"scale":9027.977411},{"level":10,"resolution":1.19432856685505,"scale":4513.988705},{"level":11,"resolution":0.597164283559817,"scale":2256.994353},{"level":12,"resolution":0.298582141647617,"scale":1128.497176}]},"geometryServer":"https://data.wsdot.wa.gov/arcgis/rest/services/Geometry/GeometryServer","queryTasks":{"county":{"label":"County","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CountyBoundaries/MapServer/0","query":{"where":"1 = 1","returnGeometry":true,"outFields":["JURLBL"]}},"city":{"label":"City","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CityLimits/MapServer/2","query":{"where":"1 = 1","returnGeometry":true,"maxAllowableOffset":50,"outFields":["CityName"]}},"urbanArea":{"label":"Urban Area","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/HighwayUrbanUrbanized/MapServer/0","query":{"where":"1 = 1","returnGeometry":true,"outFields":["NAME"]}}},"basemaps":[{"id":"wsdotBasemap","title":"WSDOT Basemap","thumbnailUrl":"images/WsdotBasemapThumbnail.jpg","layers":[{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/WebBaseMapWebMercator/MapServer"}]},{"id":"functionalClassBasemap","title":"Functional Class","thumbnailUrl":"images/FCBasemapThumbnail.png","layers":[{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/FunctionalClass/WSDOTFunctionalClassBaseMap/MapServer"}]}],"basemapsToRemove":["Navigation","Streets (Night)","Oceans","National Geographic Style Map","Charted Territory Map","Navigation (Dark Mode)","Newspaper Map","Human Geography Map","Human Geography Dark Map","Modern Antique Map","Mid-Century Map","Nova Map","Colored Pencil Map","Watercolour Map"],"initialBasemap":"WSDOT Basemap","routeLocatorUrl":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/ElcRestSOE/MapServer/exts/ElcRestSoe","layers":{"Political Boundaries":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CityLimits/MapServer","options":{"id":"City Limits"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CongressionalDistricts/MapServer","options":{"id":"Congressional Districts"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CountyBoundaries/MapServer","options":{"id":"County Boundaries"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/LegislativeDistricts/MapServer","options":{"id":"Legislative Districts"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/MetroPlanningAreas/MapServer","options":{"id":"MPA"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/RegionalTransportationPlanning/MapServer","options":{"id":"RTPO"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/TownshipSection/MapServer","options":{"id":"Township / Section"}}],"Design":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/InterchangeDrawings/MapServer","options":{"id":"Interchange Drawings"}}],"WSDOT Boundaries":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/MaintenanceAreas/MapServer","options":{"id":"Maintenance Areas"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/RegionBoundaries/MapServer","options":{"id":"Region Boundaries"}}],"Transportation Features":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/StateRoutes/MapServer","options":{"id":"State Routes"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/FunctionalClass/WSDOTFunctionalClassMap/MapServer","options":{"id":"Functional Class"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/Rail/MapServer","options":{"id":"Rail"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/MilepostValues/MapServer","options":{"id":"Milepost Values"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/BridgeData/MapServer","options":{"id":"Bridges"}}]}}')},143:e=>{e.exports=JSON.parse('{"pageTitle":"County Road Milepost Locator Map","helpUrl":"https://www.wsdot.wa.gov/mapsdata/tools/geoportal_extHelp.htm","noPopupLayerRe":"(CRAB Routes)","enableIdentify":true,"disclaimer":"disclaimers/crmp/index.html","alwaysShowDislaimer":false,"mapOptions":{"logo":false,"extent":{"xmin":-13938444.981854893,"ymin":5800958.950617068,"ymax":6257746.631649259,"xmax":-12960051.019804686,"spatialReference":{"wkid":102100}},"lods":[{"level":0,"resolution":1222.99245256249,"scale":4622324.434309},{"level":1,"resolution":611.49622628138,"scale":2311162.217155},{"level":2,"resolution":305.748113140558,"scale":1155581.108577},{"level":3,"resolution":152.874056570411,"scale":577790.554289},{"level":4,"resolution":76.4370282850732,"scale":288895.277144},{"level":5,"resolution":38.2185141425366,"scale":144447.638572},{"level":6,"resolution":19.1092570712683,"scale":72223.819286},{"level":7,"resolution":9.55462853563415,"scale":36111.909643},{"level":8,"resolution":4.77731426794937,"scale":18055.954822},{"level":9,"resolution":2.38865713397468,"scale":9027.977411},{"level":10,"resolution":1.19432856685505,"scale":4513.988705},{"level":11,"resolution":0.597164283559817,"scale":2256.994353},{"level":12,"resolution":0.298582141647617,"scale":1128.497176}]},"tabOrder":["Tools","Layers","Legend","Basemap"],"tools":["crab","search"],"geometryServer":"https://data.wsdot.wa.gov/arcgis/rest/services/Geometry/GeometryServer","queryTasks":{"county":{"label":"County","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CountyBoundaries/MapServer/0","query":{"where":"1 = 1","returnGeometry":true,"outFields":["JURLBL"]}}},"basemaps":[{"id":"esriHybrid","title":"Hybrid","thumbnailUrl":"images/EsriHybridThumbnail.png","layers":[{"url":"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},{"url":"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer"},{"url":"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer"}]},{"id":"wsdotBasemap","title":"WSDOT Basemap","thumbnailUrl":"images/WsdotBasemapThumbnail.jpg","layers":[{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/WebBaseMapWebMercator/MapServer"}]},{"id":"functionalClassBasemap","title":"Functional Class","thumbnailUrl":"images/FCBasemapThumbnail.png","layers":[{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/FunctionalClass/WSDOTFunctionalClassBaseMap/MapServer"}]}],"initialBasemap":"WSDOT Basemap","routeLocatorUrl":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/ElcRestSOE/MapServer/exts/ElcRestSoe","layers":{"Political Boundaries":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CityLimits/MapServer","options":{"id":"City Limits"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CongressionalDistricts/MapServer","options":{"id":"Congressional Districts"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CountyBoundaries/MapServer","options":{"id":"County Boundaries"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/LegislativeDistricts/MapServer","options":{"id":"Legislative Districts"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/MetroPlanningAreas/MapServer","options":{"id":"MPA"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/RegionalTransportationPlanning/MapServer","options":{"id":"RTPO"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/TownshipSection/MapServer","options":{"id":"Township / Section"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/TribalReservationLands/MapServer","options":{"id":"Tribal Lands"}}],"Design":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/InterchangeDrawings/MapServer","options":{"id":"Interchange Drawings"}}],"WSDOT Boundaries":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/MaintenanceAreas/MapServer","options":{"id":"Maintenance Areas"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/RegionBoundaries/MapServer","options":{"id":"Region Boundaries"}}],"Transportation Features":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/StateRoutes/MapServer","options":{"id":"State Routes"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/FunctionalClass/WSDOTFunctionalClassMap/MapServer","options":{"id":"Functional Class"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/Rail/MapServer","options":{"id":"Rail"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/MilepostValues/MapServer","options":{"id":"Milepost Values"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CRABRoutes/MapServer","options":{"id":"CRAB Routes","visible":true,"minScale":750000}}]}}')},347:e=>{e.exports=JSON.parse('{"pageTitle":"WSDOT Fish Passage Inventory","helpUrl":"https://www.wsdot.wa.gov/mapsdata/tools/fishpassagehelp.htm","enableIdentify":true,"disclaimer":"disclaimers/fish-passage-barriers/Public.html","alwaysShowDisclaimer":false,"printUrl":"https://data.wsdot.wa.gov/arcgis/rest/services/FishPassage/FishPassageExportWebMap/GPServer/Export%20Web%20Map","noPopupLayerRe":"^(?:(?:layer\\\\d+)|(?:Rivers\\\\sand\\\\sLakes)|(?:.+Boundary))$","alternateTabTitles":{"Tools":"Search"},"tools":["zoom","search","lrs"],"mapOptions":{"logo":true,"basemap":"topo","center":[-120.80566406246835,47.41322033015946],"zoom":7},"geometryServer":"https://data.wsdot.wa.gov/arcgis/rest/services/Geometry/GeometryServer","queryTasks":{"county":{"label":"County","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CountyBoundaries/MapServer/0","query":{"where":"1 = 1","returnGeometry":true,"outFields":["JURLBL"]}},"city":{"label":"City","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CityLimits/MapServer/2","query":{"where":"1 = 1","returnGeometry":true,"maxAllowableOffset":50,"outFields":["CityName"]}},"urbanArea":{"label":"Urban Area","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/HighwayUrbanUrbanized/MapServer/0","query":{"where":"1 = 1","returnGeometry":true}},"fishPassageBarriers":{"label":"Fish Passage Sites","url":"https://data.wsdot.wa.gov/arcgis/rest/services/FishPassage/FishPassageBarriersAllPoints/MapServer/0","query":{"where":"1 = 1","returnGeometry":true,"outFields":["Site_Num"]}}},"basemaps":[{"id":"esriHybrid","title":"Hybrid","thumbnailUrl":"images/EsriHybridThumbnail.png","layers":[{"url":"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},{"url":"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer"},{"url":"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer"}]},{"id":"wsdotBasemap","title":"WSDOT Basemap","thumbnailUrl":"images/WsdotBasemapThumbnail.jpg","layers":[{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/WebBaseMapWebMercator/MapServer"}]},{"id":"functionalClassBasemap","title":"Functional Class","thumbnailUrl":"images/FCBasemapThumbnail.png","layers":[{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/FunctionalClass/WSDOTFunctionalClassBaseMap/MapServer"}]}],"routeLocatorUrl":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/ElcRestSOE/MapServer/exts/ElcRestSoe","layers":{"WSDOT Fish Passage Inventory":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/FishPassage/UncorrectedBarriersStatewide/MapServer","options":{"id":"Uncorrected Barriers Statewide","visible":true}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/FishPassage/CorrectedBarriersStatewide/MapServer","options":{"id":"Corrected Barriers Statewide","visible":true}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/FishPassage/CaseAreaBoundary/MapServer","options":{"id":"US v. WA Case Area Boundary"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/FishPassage/UncorrectedBarriersCaseArea/MapServer","options":{"id":"Uncorrected Barriers Subject to Injunction"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/FishPassage/CulvertsWithFishUse/MapServer","options":{"id":"Culverts with Fish Use"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/FishPassage/CorrectionPlan/MapServer","options":{"id":"Fish Passage Barrier Correction Plan"}}],"Additional Features":[{"layerType":"esri.layers.ArcGISTiledMapServiceLayer","url":"https://gispublic.dfw.wa.gov/arcgis/rest/services/ApplicationServices/NHD_Hydro_Cache/MapServer","options":{"id":"Rivers and Lakes"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/WashingtonState/MapServer","options":{"id":"State Boundary"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/RegionBoundaries/MapServer","options":{"id":"Region Boundaries"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CountyBoundaries/MapServer","options":{"id":"County Boundaries"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/LegislativeDistricts/MapServer","options":{"id":"Legislative Districts"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/FishPassage/WRIABoundaries/MapServer","options":{"id":"Water Resource Inventory Area (WRIA)"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CityLimits/MapServer","options":{"id":"City Limits","opacity":0.7}}]}}')},100:e=>{e.exports=JSON.parse('{"pageTitle":"Traffic GeoPortal","helpUrl":"help/traffic.pdf","enableIdentify":true,"additionalStylesheets":["style/traffic.css"],"tools":["lrs","zoom"],"tabOrder":["Layers","Legend","Tools"],"customLegend":{"html":"TrafficLegend.html","basemapSpecificSections":{"trafficLegend":"#trafficLegend"},"htmlType":"url"},"mapOptions":{"logo":false,"extent":{"xmin":-13938444.981854893,"ymin":5800958.950617068,"ymax":6257746.631649259,"xmax":-12960051.019804686,"spatialReference":{"wkid":102100}},"lods":[{"level":0,"resolution":1222.99245256249,"scale":4622324.434309},{"level":1,"resolution":611.49622628138,"scale":2311162.217155},{"level":2,"resolution":305.748113140558,"scale":1155581.108577},{"level":3,"resolution":152.874056570411,"scale":577790.554289},{"level":4,"resolution":76.4370282850732,"scale":288895.277144},{"level":5,"resolution":38.2185141425366,"scale":144447.638572},{"level":6,"resolution":19.1092570712683,"scale":72223.819286},{"level":7,"resolution":9.55462853563415,"scale":36111.909643},{"level":8,"resolution":4.77731426794937,"scale":18055.954822},{"level":9,"resolution":2.38865713397468,"scale":9027.977411},{"level":10,"resolution":1.19432856685505,"scale":4513.988705},{"level":11,"resolution":0.597164283559817,"scale":2256.994353},{"level":12,"resolution":0.298582141647617,"scale":1128.497176}]},"initialBasemap":"Multilevel","geometryServer":"https://data.wsdot.wa.gov/arcgis/rest/services/Utilities/Geometry/GeometryServer","queryTasks":{"wim":{"label":"PTR (WIM)","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Traffic/PTRSites/MapServer/0","query":{"where":"1 = 1","returnGeometry":true,"outFields":["ADCTrafficSDE.DBO.PTRSites.SiteID"]}},"noWim":{"label":"PTR (non-WIM)","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Traffic/PTRSites/MapServer/1","query":{"where":"1 = 1","returnGeometry":true,"outFields":["ADCTrafficSDE.DBO.PTRSites.SiteID"]}},"county":{"label":"County","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CountyBoundaries/MapServer/0","query":{"where":"1 = 1","returnGeometry":true,"outFields":["JURLBL"]}},"city":{"label":"City","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CityLimits/MapServer/2","query":{"where":"1 = 1","returnGeometry":true,"maxAllowableOffset":50,"outFields":["CityName"]}},"urbanArea":{"label":"Urban Area","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/HighwayUrbanUrbanized/MapServer/0","query":{"where":"1 = 1","returnGeometry":true}}},"basemaps":[{"id":"Multilevel","title":"Multilevel","thumbnailUrl":"images/MultilevelThumbnail.png","layers":[{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/WebBaseMapWebMercator/MapServer","displayLevels":[0,1,2,3,4,5,6]},{"url":"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer","displayLevels":[14,15,16,17,18,19,20,21,22,23,24,25]},{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/Traffic/LocalRoads/MapServer"}]}],"basemapsToRemove":["Imagery","Imagery with Labels","Streets","Topographic","Dark Gray Canvas","Light Gray Canvas","National Geographic","Oceans","Terrain with Labels","OpenStreetMap","USA Topo Maps","USGS National Map"],"routeLocatorUrl":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/ElcRestSOE/MapServer/exts/ElcRestSoe","layers":[{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Traffic/TrafficData/MapServer","options":{"id":"Traffic Data","visible":true}},{"url":"https://data.wsdot.wa.gov/arcgis/rest/services/Traffic/PTRSites/MapServer","layerType":"esri.layers.ArcGISDynamicMapServiceLayer","options":{"id":"PTR Sites","visible":true}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/MilepostValues/MapServer","options":{"id":"Milepost Values","visible":false,"imageParameters":{"layerIds":[0,1,2],"layerOption":"show"}}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CountyBoundaries/MapServer","options":{"id":"County Boundaries"}},{"layerType":"esri.layers.ArcGISDynamicMapServiceLayer","url":"https://data.wsdot.wa.gov/arcgis/rest/services/Shared/CityLimits/MapServer","options":{"id":"City Limits","opacity":0.4,"imageParameters":{"layerIds":[0,1],"layerOption":"hide"}}}]}')}},p={};function d(e){var r=p[e];if(void 0!==r)return r.exports;var a=p[e]={exports:{}};return u[e].call(a.exports,a,a.exports,d),a.exports}d.d=(e,r)=>{for(var a in r)d.o(r,a)&&!d.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},d.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var y={};return(()=>{var e=y;Object.defineProperty(e,"__esModule",{value:!0});var r=d(163),a=r.__importStar(d(795)),t=r.__importDefault(d(598)),s=r.__importDefault(d(48)),i=r.__importDefault(d(957)),o=r.__importDefault(d(940)),n=r.__importDefault(d(436)),l=r.__importDefault(d(231)),c=d(565),u=d(935),p=r.__importStar(d(371)),v=d(577),h=window.URL&&window.URLSearchParams&&window.history;i.default.defaults.io.httpsDomains.push("wsdot.wa.gov"),i.default.defaults.io.corsEnabledServers.push("wsdot.wa.gov","data.wsdot.wa.gov");var f=new t.default({liveSplitters:!0},"container"),m=new s.default({region:"left",style:"width: 300px; padding: 0",splitter:!0},"layerListContainer"),g=new s.default({region:"center",style:"padding: 0"},"mapContainer");f.addChild(m),f.addChild(g),f.startup();var S=new n.default({xmin:-124.79,ymin:45.54,xmax:-116.91,ymax:49.05}),w=h?new URLSearchParams(location.search):null,b=w&&w.has("config")?(0,p.getConfigLayers)(w.get("config")).layers:p.default.config.layers,M=(0,a.fromGeoportalLayers)(b),L=M.groups,_=M.layers,T=new l.default("map",{basemap:"dark-gray-vector",extent:function(){var e=new URL(location.href).searchParams.get("map-extent");if(e){var a=r.__read(e.split(/[\s,]/g).map((function(e){return parseFloat(e)})),4),t=a[0],s=a[1],i=a[2],o=a[3];return new n.default({xmin:t,ymin:s,xmax:i,ymax:o,spatialReference:{wkid:4326}})}}()||S}),A=document.createElement("button");A.id="homeButton",T.root.appendChild(A),new o.default({visible:!0,map:T},A).startup(),w&&(0,a.setOperationalLayers)(w,_),T.addLayers(_.map((function(e){return e.layer})));var C=new a.default({groups:L,showLegend:!0,showOpacitySlider:!0,showSubLayers:!0,groupProperty:"title",map:T,metadata:!0,layers:_,throwOnGroupNotFound:!1},"layerList");C.startup(),h&&(0,a.createLayerLink)(C);try{var D=(0,u.createSourceLink)("https://www.github.com/wsdot-gis/grouped-layer-list");T.root.appendChild(D)}catch(e){if(!(e instanceof c.FormatError))throw e}var I=(0,v.createConfigSelector)();I.id="configSelect",T.root.appendChild(I)})(),y})()));
//# sourceMappingURL=main.js.map